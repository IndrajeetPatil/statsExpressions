<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Making expression for Mann-Whitney <em>U</em>-test/Wilcoxon test results — expr_t_nonparametric • statsExpressions</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Making expression for Mann-Whitney <em>U</em>-test/Wilcoxon test results — expr_t_nonparametric" />
<meta property="og:description" content="Making expression for Mann-Whitney U-test/Wilcoxon test results" />
<meta property="og:image" content="https://indrajeetpatil.github.io/statsExpressions/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">statsExpressions</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/stats_details.html">Test and effect size details</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/IndrajeetPatil/statsExpressions/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Making expression for Mann-Whitney <em>U</em>-test/Wilcoxon test results</h1>
    <small class="dont-index">Source: <a href='https://github.com/IndrajeetPatil/statsExpressions/blob/master/R/helpers_t_test_expressions.R'><code>R/helpers_t_test_expressions.R</code></a></small>
    <div class="hidden name"><code>expr_t_nonparametric.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Making expression for Mann-Whitney <em>U</em>-test/Wilcoxon test results</p>
    </div>

    <pre class="usage"><span class='fu'>expr_t_nonparametric</span>(
  <span class='no'>data</span>,
  <span class='no'>x</span>,
  <span class='no'>y</span>,
  <span class='kw'>paired</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>2L</span>,
  <span class='kw'>conf.level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>conf.type</span> <span class='kw'>=</span> <span class='st'>"norm"</span>,
  <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>stat.title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A dataframe (or a tibble) from which variables specified are to
be taken. A matrix or tables will <strong>not</strong> be accepted.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>The grouping variable from the dataframe <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>The response (a.k.a. outcome or dependent) variable from the
dataframe <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>paired</th>
      <td><p>Logical that decides whether the experimental design is
repeated measures/within-subjects or between-subjects. The default is
<code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>Number of digits after decimal point (should be an integer)
(Default: <code>k = 2</code>).</p></td>
    </tr>
    <tr>
      <th>conf.level</th>
      <td><p>Scalar between 0 and 1. If unspecified, the defaults return
<code>95%</code> lower and upper confidence intervals (<code>0.95</code>).</p></td>
    </tr>
    <tr>
      <th>conf.type</th>
      <td><p>A vector of character strings representing the type of
intervals required. The value should be any subset of the values <code>"norm"</code>,
<code>"basic"</code>, <code>"perc"</code>, <code>"bca"</code>. For more, see <code><a href='https://rdrr.io/pkg/boot/man/boot.ci.html'>?boot::boot.ci</a></code>.</p></td>
    </tr>
    <tr>
      <th>nboot</th>
      <td><p>Number of bootstrap samples for computing confidence interval
for the effect size (Default: <code>100</code>).</p></td>
    </tr>
    <tr>
      <th>stat.title</th>
      <td><p>A character describing the test being run, which will be
added as a prefix in the subtitle. The default is <code>NULL</code>. An example of a
<code>stat.title</code> argument will be something like <code>"Student's t-test: "</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments (currently ignored).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For the two independent samples case, the Mann-Whitney <em>U</em>-test is
calculated and <em>W</em> is reported from <em>stats::wilcox.test</em>. For the paired
samples case the Wilcoxon signed rank test is run and <em>V</em> is reported.</p>
<p>Since there is no single commonly accepted method for reporting effect size
for these tests we are computing and reporting <em>r</em> (computed as
\(Z/\sqrt{N}\)) along with the confidence intervals associated with the
estimate. Note that <em>N</em> here corresponds to total <em>sample size</em> for
independent/between-subjects designs, and to total number of <em>pairs</em> (and
<strong>not</strong> <em>observations</em>) for repeated measures/within-subjects designs.</p>
<p><em>Note:</em> The <em>stats::wilcox.test</em> function does not follow the
same convention as <em>stats::t.test</em>. The sign of the <em>V</em> test statistic
will always be positive since it is <strong>the sum of the positive signed ranks</strong>.
Therefore, <em>V</em> will vary in magnitude but not significance based solely
on the order of the grouping variable. Consider manually
reordering your factor levels if appropriate as shown in the second example
below.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>For more details, see-
<a href='https://indrajeetpatil.github.io/statsExpressions/articles/stats_details.html'>https://indrajeetpatil.github.io/statsExpressions/articles/stats_details.html</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># \donttest{</span>
<span class='co'># for reproducibility</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123</span>)

<span class='co'># -------------- between-subjects design ------------------------</span>
<span class='co'># simple function call</span>
<span class='kw pkg'>statsExpressions</span><span class='kw ns'>::</span><span class='fu'>expr_t_nonparametric</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>sleep</span>,
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>group</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>extra</span>
)</div><div class='output co'>#&gt; paste(NULL, "log"["e"](italic("W")["Wilcoxon"]), " = ", "3.24", 
#&gt;     ", ", italic("p"), " = ", "0.069", ", ", widehat(italic("r")), 
#&gt;     " = ", "-0.41", ", CI"["95%"], " [", "-0.84", ", ", "-0.04", 
#&gt;     "]", ", ", italic("n")["obs"], " = ", 20L)</div><div class='input'>
<span class='co'># creating a smaller dataset</span>
<span class='no'>msleep_short</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(
  <span class='kw'>.data</span> <span class='kw'>=</span> <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='no'><a href='https://ggplot2.tidyverse.org/reference/msleep.html'>msleep</a></span>,
  <span class='no'>vore</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"carni"</span>, <span class='st'>"herbi"</span>)
)

<span class='co'># modifying few things</span>
<span class='kw pkg'>statsExpressions</span><span class='kw ns'>::</span><span class='fu'>expr_t_nonparametric</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>msleep_short</span>,
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>vore</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>sleep_rem</span>,
  <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>200</span>,
  <span class='kw'>conf.level</span> <span class='kw'>=</span> <span class='fl'>0.99</span>,
  <span class='kw'>conf.type</span> <span class='kw'>=</span> <span class='st'>"bca"</span>
)</div><div class='output co'>#&gt; <span class='warning'>Warning: extreme order statistics used as endpoints</span></div><div class='output co'>#&gt; paste(NULL, "log"["e"](italic("W")["Wilcoxon"]), " = ", "5.05", 
#&gt;     ", ", italic("p"), " = ", "0.179", ", ", widehat(italic("r")), 
#&gt;     " = ", "0.23", ", CI"["99%"], " [", "-0.28", ", ", "0.63", 
#&gt;     "]", ", ", italic("n")["obs"], " = ", 34L)</div><div class='input'>
<span class='co'># The order of the grouping factor matters when computing *V*</span>
<span class='co'># Changing default alphabetical order manually</span>
<span class='no'>msleep_short</span>$<span class='no'>vore</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>msleep_short</span>$<span class='no'>vore</span>, <span class='kw'>levels</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"herbi"</span>, <span class='st'>"carni"</span>))

<span class='co'># note the change in the reported *V* value but the identical</span>
<span class='co'># value for *p* and the reversed effect size</span>
<span class='kw pkg'>statsExpressions</span><span class='kw ns'>::</span><span class='fu'>expr_t_nonparametric</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>msleep_short</span>,
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>vore</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>sleep_rem</span>
)</div><div class='output co'>#&gt; paste(NULL, "log"["e"](italic("W")["Wilcoxon"]), " = ", "4.43", 
#&gt;     ", ", italic("p"), " = ", "0.179", ", ", widehat(italic("r")), 
#&gt;     " = ", "-0.23", ", CI"["95%"], " [", "-0.60", ", ", "0.12", 
#&gt;     "]", ", ", italic("n")["obs"], " = ", 34L)</div><div class='input'>
<span class='co'># -------------- within-subjects design ------------------------</span>

<span class='co'># using dataset included in the package</span>
<span class='kw pkg'>statsExpressions</span><span class='kw ns'>::</span><span class='fu'>expr_t_nonparametric</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>VR_dilemma</span>,
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>modality</span>,
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>score</span>,
  <span class='kw'>paired</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>conf.level</span> <span class='kw'>=</span> <span class='fl'>0.90</span>,
  <span class='kw'>conf.type</span> <span class='kw'>=</span> <span class='st'>"perc"</span>,
  <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>200</span>,
  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>4</span>
)</div><div class='output co'>#&gt; paste(NULL, "log"["e"](italic("V")["Wilcoxon"]), " = ", "1.5041", 
#&gt;     ", ", italic("p"), " = ", "9e-04", ", ", widehat(italic("r")), 
#&gt;     " = ", "-0.5745", ", CI"["90%"], " [", "-0.6843", ", ", "-0.4427", 
#&gt;     "]", ", ", italic("n")["pairs"], " = ", 34L)</div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://sites.google.com/site/indrajeetspatilmorality/'>Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'cfa913c0232e74cf725e6865b064017b',
    indexName: 'statsExpressions',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


