---
output:
  github_document:
    pandoc_args: --webtex
---

  <!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
# show me all columns
options(tibble.width = Inf) 

knitr::opts_chunk$set(
  collapse = TRUE,
  dpi = 200,
  out.width = "100%",
  comment = "#>",
  warning = FALSE,
  message = FALSE,
  fig.path = "man/figures/README-"
)
```

# `statsExpressions`: Expressions with statistical details

Package | Status | Usage | GitHub | References
----------------- | ----------------- | ----------------- | ----------------- | -----------------
[![CRAN_Release_Badge](http://www.r-pkg.org/badges/version-ago/statsExpressions)](https://CRAN.R-project.org/package=statsExpressions) | [![Travis Build Status](https://travis-ci.org/IndrajeetPatil/statsExpressions.svg?branch=master)](https://travis-ci.org/IndrajeetPatil/statsExpressions) | [![Daily downloads badge](https://cranlogs.r-pkg.org/badges/last-day/statsExpressions?color=blue)](https://CRAN.R-project.org/package=statsExpressions) | [![GitHub version](https://img.shields.io/badge/GitHub-0.0.1.9000-orange.svg?style=flat-square)](https://github.com/IndrajeetPatil/statsExpressions/) | [![Website](https://img.shields.io/badge/website-statsExpressions-orange.svg?colorB=E91E63)](https://indrajeetpatil.github.io/statsExpressions/)
[![CRAN Checks](https://cranchecks.info/badges/summary/statsExpressions)](https://cran.r-project.org/web/checks/check_results_statsExpressions.html) | [![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/IndrajeetPatil/statsExpressions?branch=master&svg=true)](https://ci.appveyor.com/project/IndrajeetPatil/statsExpressions) | [![Weekly downloads badge](https://cranlogs.r-pkg.org/badges/last-week/statsExpressions?color=blue)](https://CRAN.R-project.org/package=statsExpressions) | [![Forks](https://img.shields.io/badge/forks-`r itdepends:::get_github_info("statsExpressions")$forks[[1]]`-blue.svg)](https://github.com/IndrajeetPatil/statsExpressions/) | [![Rdoc](https://www.rdocumentation.org/badges/version/statsExpressions)](https://www.rdocumentation.org/packages/statsExpressions)
[![minimal R version](https://img.shields.io/badge/R%3E%3D-3.5.0-6666ff.svg)](https://cran.r-project.org/) | [![lifecycle](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/) | [![Monthly downloads badge](https://cranlogs.r-pkg.org/badges/last-month/statsExpressions?color=blue)](https://CRAN.R-project.org/package=statsExpressions) | [![Github Issues](https://img.shields.io/badge/issues-`r itdepends:::get_github_info("statsExpressions")$open_issues[[1]]`-red.svg)](https://github.com/IndrajeetPatil/statsExpressions/issues) | [![vignettes](https://img.shields.io/badge/vignettes-0.0.1-orange.svg?colorB=FF5722)](https://CRAN.R-project.org/package=statsExpressions/vignettes/)
[![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/IndrajeetPatil/statsExpressions.svg)](https://github.com/IndrajeetPatil/statsExpressions) | [![Coverage Status](https://coveralls.io/repos/github/IndrajeetPatil/statsExpressions/badge.svg?branch=master)](https://coveralls.io/github/IndrajeetPatil/statsExpressions?branch=master) | [![Total downloads badge](https://cranlogs.r-pkg.org/badges/grand-total/statsExpressions?color=blue)](https://CRAN.R-project.org/package=statsExpressions) | [![Github Stars](https://img.shields.io/github/stars/IndrajeetPatil/statsExpressions.svg?style=social&label=Github)](https://github.com/IndrajeetPatil/statsExpressions) | [![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.2074621.svg)](https://doi.org/10.5281/zenodo.2074621)
[![Licence](https://img.shields.io/badge/licence-GPL--3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0.en.html) | [![Codecov test coverage](https://codecov.io/gh/IndrajeetPatil/statsExpressions/branch/master/graph/badge.svg)](https://codecov.io/gh/IndrajeetPatil/statsExpressions?branch=master) | [![HitCount](http://hits.dwyl.io/IndrajeetPatil/statsExpressions.svg)](http://hits.dwyl.io/IndrajeetPatil/statsExpressions) | [![Last-changedate](https://img.shields.io/badge/last%20change-`r gsub('-', '--', Sys.Date())`-yellowgreen.svg)](https://github.com/IndrajeetPatil/statsExpressions/commits/master) | [![GitHub last commit](https://img.shields.io/github/last-commit/IndrajeetPatil/statsExpressions.svg)](https://github.com/IndrajeetPatil/statsExpressions/commits/master)
[![status](https://tinyverse.netlify.com/badge/statsExpressions)](https://CRAN.R-project.org/package=statsExpressions) | [![Covrpage Summary](https://img.shields.io/badge/covrpage-Last_Build_2019_08_14-brightgreen.svg)](https://github.com/IndrajeetPatil/statsExpressions/blob/master/tests/README.md) | [![saythanks](https://img.shields.io/badge/Say%20Thanks-!-1EAEDB.svg)](https://saythanks.io/to/IndrajeetPatil) | [![Project Status](http://www.repostatus.org/badges/latest/active.svg)](http://www.repostatus.org/#active) | [![contributions welcome](https://img.shields.io/badge/contributions-welcome-brightgreen.svg?style=flat)](https://github.com/IndrajeetPatil/statsExpressions/issues)
[![Gitter chat](https://badges.gitter.im/gitterHQ/gitter.png)](https://gitter.im/statsExpressions/community) | | | |

# Introduction

[`statsExpressions`](https://indrajeetpatil.github.io/statsExpressions/)
provides backend for the
[`ggstatsplot`](https://indrajeetpatil.github.io/ggstatsplot/) package, which
combines `ggplot2` visualizations with expressions containing results
from statistical tests. `statsExpressions` contains all functions needed to
create these expressions.

# Installation

To get the latest, stable `CRAN` release (`0.0.1`):

```{r installationCRAN, eval = FALSE}
install.packages(pkgs = "statsExpressions")
```

You can get the **development** version of the package from GitHub
(`0.0.1.9000`). To see what new changes (and bug fixes) have been made to the
package since the last release on `CRAN`, you can check the detailed log of
changes here: <https://indrajeetpatil.github.io/statsExpressions/news/index.html>

If you are in hurry and want to reduce the time of installation,
prefer-

```{r installation1, eval = FALSE}
# needed package to download from GitHub repo
utils::install.packages(pkgs = "remotes")

# downloading the package from GitHub
remotes::install_github(
  repo = "IndrajeetPatil/statsExpressions", # package path on GitHub
  dependencies = FALSE, # assumes you have already installed needed packages
  quick = TRUE # skips docs, demos, and vignettes
)
```

If time is not a constraint-

```{r installation2, eval = FALSE}
remotes::install_github(
  repo = "IndrajeetPatil/statsExpressions", # package path on GitHub
  dependencies = TRUE, # installs packages which statsExpressions depends on
  upgrade_dependencies = TRUE # updates any out of date dependencies
)
```

# Citation

If you want to cite this package in a scientific journal or in any other
context, run the following code in your `R` console:

```{r citation, eval = FALSE}
citation("statsExpressions")
```

# Documentation and Examples

To see the documentation relevant for the **development** version of the package,
see the dedicated website for `statsExpressions`, which is updated after every new
commit: <https://indrajeetpatil.github.io/statsExpressions/>.

# Summary of types of statistical analyses

Currently, it supports only the most common types of statistical tests:
**parametric**, **nonparametric**, **robust**, and **bayesian** versions of
**t-test**/**anova**, **correlation** analyses, **contingency table** analysis,
and **regression** analyses.

The table below summarizes all the different types of analyses currently
supported in this package-

Description | Parametric | Non-parametric | Robust | Bayes Factor
------------------ | ---- | ----- | ----| ----- 
Between group/condition comparisons | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font>
Within group/condition comparisons | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font>
Distribution of a numeric variable | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font>
Correlation between two variables | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font> | <font color="green">Yes</font>
Association between categorical variables | <font color="green">Yes</font> | `NA` | `NA` | <font color="green">Yes</font>
Equal proportions for categorical variable levels | <font color="green">Yes</font> | `NA` | `NA` | <font color="green">Yes</font>

# Statistical reporting

For **all** statistical test expressions, the default template abides by the
[APA](https://my.ilstu.edu/~jhkahn/apastats.html) gold standard for statistical
reporting. For example, here are results from Yuen's test for trimmed means
(robust *t*-test):

<img src="man/figures/stats_reporting_format.png" align="center" />

# Summary of statistical tests and effect sizes

Here is a summary table of all the statistical tests currently supported across
various functions:

Functions | Type | Test | Effect size | 95% CI available? 
-------------- | ----------- | --------------------- | -------- | -----  
`subtitle_anova_parametric` (2 groups) | Parametric | Student's and Welch's *t*-test | Cohen's *d*, Hedge's *g* |  <font color="green">$\checkmark$</font>
`subtitle_anova_parametric` (> 2 groups) | Parametric | Fisher's and Welch's one-way ANOVA | $$\eta^2, \eta^2_p, \omega^2, \omega^2_p$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_nonparametric` (2 groups) | Non-parametric | Mann-Whitney *U*-test | *r* |  <font color="green">$\checkmark$</font>
`subtitle_anova_nonparametric` (> 2 groups) | Non-parametric | Kruskal-Wallis Rank Sum Test | $$\epsilon^2$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_robust` (2 groups) | Robust | Yuen's test for trimmed means | $$\xi$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_robust` (> 2 groups) | Robust | Heteroscedastic one-way ANOVA for trimmed means | $$\xi$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_parametric` (2 groups) | Parametric | Student's *t*-test | Cohen's *d*, Hedge's *g* |  <font color="green">$\checkmark$</font>
`subtitle_anova_parametric` (> 2 groups) | Parametric | Fisher's one-way repeated measures ANOVA | $$\eta^2_p, \omega^2$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_nonparametric` (2 groups) | Non-parametric | Wilcoxon signed-rank test | *r* |  <font color="green">$\checkmark$</font>
`subtitle_anova_nonparametric` (> 2 groups) | Non-parametric | Friedman rank sum test | $$W_{Kendall}$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_robust` (2 groups) | Robust | Yuen's test on trimmed means for dependent samples | $$\xi$$ |  <font color="green">$\checkmark$</font>
`subtitle_anova_robust` (> 2 groups) | Robust | Heteroscedastic one-way repeated measures ANOVA for trimmed means | <font color="red">$\times$</font> | <font color="red">$\times$</font>
`subtitle_contingency_tab` (unpaired) | Parametric | $$\text{Pearson's}~ \chi^2 ~\text{test}$$ | Cramér's *V* |  <font color="green">$\checkmark$</font>
`subtitle_contingency_tab` (paired) | Parametric | McNemar's test | Cohen's *g* |  <font color="green">$\checkmark$</font>
`subtitle_contingency_tab` | Parametric | One-sample proportion test | Cramér's *V* |  <font color="green">$\checkmark$</font>
`subtitle_corr_test` | Parametric | Pearson's *r* | *r* |  <font color="green">$\checkmark$</font>
`subtitle_corr_test` | Non-parametric | $$\text{Spearman's}~ \rho$$ | $$\rho$$ |  <font color="green">$\checkmark$</font>
`subtitle_corr_test` | Robust | Percentage bend correlation | *r* |  <font color="green">$\checkmark$</font>
`subtitle_t_onesample` | Parametric | One-sample *t*-test | Cohen's *d*, Hedge's *g* |  <font color="green">$\checkmark$</font>
`subtitle_t_onesample` | Non-parametric | One-sample Wilcoxon signed rank test | *r* |  <font color="green">$\checkmark$</font>
`subtitle_t_onesample` | Robust | One-sample percentile bootstrap | robust estimator |  <font color="green">$\checkmark$</font>

# Primary functions

A list of primary functions in this package can be found at the package website:
<https://indrajeetpatil.github.io/statsExpressions/reference/index.html>

Although these functions were initially written to display results from
statistical tests on ready-made `ggplot2` plots implemented in `ggstatsplot`,
the `statsExpressions` package functions can be used to display these results on
any custom plots.

Here is an example from `ggstatsplot` of what the plots look like when the
expressions are displayed in the subtitle-

<img src="man/figures/README-ggwithinstats1-1.png" align="center" />

Here is an example of how these functions can be used: Let's say we want to
check differences in weight of the vehicle based on no. of cylinders in the
engine and we want to carry out a robust ANOVA:

```{r example1}
# setup
set.seed(123)
library(ggplot2)
library(statsExpressions)

# create a plot
p <- ggplot(mtcars, aes(cyl, wt)) + geom_point()

# create an expression containing details from the relevant test
results <- subtitle_anova_robust(mtcars, cyl, wt, messages = FALSE)

# display results on the plot
p + labs(title = "A heteroscedastic one-way ANOVA for trimmed means", 
         subtitle = results)
```

You can also use these function to get the expression in return without having
to display them in plots:

```{r example2}
# setup
set.seed(123)
library(ggplot2)
library(statsExpressions)

# one-sample equal proportions test
subtitle_onesample_proptest(msleep, vore, messages = FALSE)
```

# Code coverage

As the code stands right now, here is the code coverage for all primary
functions involved:
<https://codecov.io/gh/IndrajeetPatil/statsExpressions/tree/master/R>

# Contributing

I'm happy to receive bug reports, suggestions, questions, and (most of all)
contributions to fix problems and add features. I personally prefer using the
`GitHub` issues system over trying to reach out to me in other ways (personal
e-mail, Twitter, etc.). Pull Requests for contributions are encouraged.

Here are some simple ways in which you can contribute (in the increasing order
of commitment):

  - Read and correct any inconsistencies in the
    [documentation](https://indrajeetpatil.github.io/statsExpressions/)

  - Raise issues about bugs or wanted features

  - Review code

  - Add new functionality (in the form of new plotting functions or helpers for
    preparing subtitles)

Please note that this project is released with a 
[Contributor Code of Conduct](https://github.com/IndrajeetPatil/statsExpressions/blob/master/CODE_OF_CONDUCT.md). By participating in this project you agree to abide by its terms.

# Session Information

For reproducibility purposes, the details about the session information in which
this document was rendered, see-
<https://indrajeetpatil.github.io/statsExpressions/articles/web_only/session_info.html>
